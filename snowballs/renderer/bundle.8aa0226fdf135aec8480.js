(()=>{"use strict";var e=!0;function n(n){n&&(e=!0),1==e&&window.scrollTo(0,document.body.scrollHeight)}window.addEventListener("wheel",(function(n){1==e&&(e=!1)})),window.addEventListener("touchmove",(function(n){1==e&&(e=!1)})),window.invokeAction=e=>{const d=decodeURIComponent(e),t=JSON.parse(d).payload;switch(t.type){case"showChat":document.body.innerHTML=t.html,n(!0);break;case"newMessage":{console.log("received payload",d);let e=document.createElement("div");e.classList.add("message"),e.classList.add(t.sender),e.innerHTML=t.html,e.id=t.id,document.body.appendChild(e),n(!0);break}case"updateMessage":{let e=document.getElementById(t.id);e&&(e.innerHTML=t.html),n(!1);break}}},window.webkit.messageHandlers.core.postMessage("appIsReady")})();